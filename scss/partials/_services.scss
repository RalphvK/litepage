$cfg: $grid-section; // copy config from grid-section (not using $grid-section to allow separate styling in future)

.service-row {

    background-color: rgba(#0000ff, 0.73);
    padding-top: 0;
    padding-bottom: 0;

    .col-illustration {
        position: relative;
        min-height: 100%;
        
        @include media-breakpoint-only(md) {
            max-height: 400px;
        }

        // square aspect ratio
        &:before{
            content: "";
            display: block;
            margin-top: 100%;
        }

        .illustration {
            position: absolute;
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
            text-align: center;
            display: flex;
            justify-content: center;

            svg {
                width: 100%;
            }
        }

    }

    .col-content {
        border: none !important;
        background-color: transparent;
        color: $white;
    }

}

#development {

    .illustration svg {
        max-width: 80%;
        transform: translate(-6.5%, -2.5%);
    }

}

#design {

    .illustration svg {
        max-width: 80%;
        > rect {
            fill: none !important;
        }
    }

}

#branding {
    padding-bottom: map-get($grid-section, 'section-margin') * 0.5;

    .illustration svg {
        max-width: 80%;
        > rect {
            fill: none !important;
        }
    }

}

// put illustration after text on mobile
@include media-breakpoint-down(md) {

    .service-row.grid-section .col-content {
        padding-top: 50px;
        padding-bottom: 70px;
        text-align: center;
    }

    #design {
        .row {
            flex-direction: column-reverse;
        }

        .col-content {

            // removing adjacent border
            &:nth-child(even) {
                @include media-breakpoint-down(md) {
                    border-top: map-get($grid-section, 'column-border');
                    border-bottom: none;
                }
            
            }

        }
    }
}